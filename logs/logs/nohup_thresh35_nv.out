nohup: ignoring input
/home/ubuntu/anaconda3/lib/python3.6/site-packages/sklearn/cross_validation.py:41: DeprecationWarning: This module was deprecated in version 0.18 in favor of the model_selection module into which all the refactored classes and functions are moved. Also note that the interface of the new CV iterators are different from that of this module. This module will be removed in 0.20.
  "This module will be removed in 0.20.", DeprecationWarning)
[9.298324584960938e-06] Load Train
Shapes of train and test validation
(131886953, 8)
(53016937, 8)
[1788.854965209961] Remove late downloads
--------------------------------------------------
35000
0    184447044
1       456846
Name: is_attributed, dtype: int64
/home/ubuntu/anaconda3/lib/python3.6/site-packages/pandas/core/indexing.py:179: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/indexing.html#indexing-view-versus-copy
  self._setitem_with_indexer(indexer, value)
0    184462173
1       441717
Name: is_attributed, dtype: int64
[1804.8163571357727] Load Test
[1976.3304929733276] Load Features
[3425.0344219207764] Load Entropy Features
[3427.392747402191] Load up the kanber features
(184903890, 9)
(18790469, 9)
    X0  X1  X2   X3  X4   X5  X6  X7  X8
0  141   0   9   90  48   30  50   0  51
1  137   0  10   81  51   29  50   0  48
2  139   0   9   73  52   19  50   0  42
3  152   0   9  164  71  122  40   0  63
4   94   0   7   38  21    5  50   0  28
    X0  X1  X2   X3  X4   X5  X6  X7  X8
0  141   0   9   90  48   30  50   0  51
1  137   0  10   81  51   29  50   0  48
2  139   0   9   73  52   19  50   0  42
3  152   0   9  164  71  122  40   0  63
4   94   0   7   38  21    5  50   0  28
           X0    X1  X2   X3   X4   X5  X6      X7  X8
18790464   84   104  16   32    9    5  47     526  22
18790465  121   430  16   74   30   17  11   13517  26
18790466  126   782  16   64   41   17  20   14260  26
18790467   83   210  16   34    4    5   6    1150  23
18790468  163  2658  17  210  152  197  33  978546  30
           X0    X1  X2   X3   X4   X5  X6      X7  X8
18790464   84   104  16   32    9    5  47     526  22
18790465  121   430  16   74   30   17  11   13517  26
18790466  126   782  16   64   41   17  20   14260  26
18790467   83   210  16   34    4    5   6    1150  23
18790468  163  2658  17  210  152  197  33  978546  30
(184903890, 2)
(18790469, 2)
   nextClick  nextClick_shift
0       5340             9999
1       5547             5340
2       5925             5547
3       5110             5925
4      33756             5110
   nextClick  nextClick_shift
0       5340             9999
1       5547             5340
2       5925             5547
3       5110             5925
4      33756             5110
           nextClick  nextClick_shift
18790464         144              136
18790465  1489674000              144
18790466  1489674000       1489674000
18790467  1489674000       1489674000
18790468           0       1489674000
           nextClick  nextClick_shift
18790464         144              136
18790465  1489674000              144
18790466  1489674000       1489674000
18790467  1489674000       1489674000
18790468           0       1489674000
(184903890, 7)
(18790469, 7)
   ip_tcount  ip_tchan_count  ip_app_count  ip_app_os_count  ip_app_os_var  \
0          1        7.893333          6347             1600      37.074772   
1          1        9.618462          5792             1596      27.812672   
2          1       15.600000          2422              505      33.541592   
3          1        5.947712         12190             2496      38.642452   
4          1       10.800000           232               80      37.221359   

   ip_app_channel_var_day  ip_app_channel_mean_hour  
0                1.641883                  8.545852  
1                1.338314                  8.247573  
2                1.158442                  9.035714  
3                1.272727                  9.963636  
4                0.619048                 11.428572  
   ip_tcount  ip_tchan_count  ip_app_count  ip_app_os_count  ip_app_os_var  \
0          1        7.893333          6347             1600      37.074772   
1          1        9.618462          5792             1596      27.812672   
2          1       15.600000          2422              505      33.541592   
3          1        5.947712         12190             2496      38.642452   
4          1       10.800000           232               80      37.221359   

   ip_app_channel_var_day  ip_app_channel_mean_hour  
0                1.641883                  8.545852  
1                1.338314                  8.247573  
2                1.158442                  9.035714  
3                1.272727                  9.963636  
4                0.619048                 11.428572  
          ip_tcount  ip_tchan_count  ip_app_count  ip_app_os_count  \
18790464         16       22.333334            70               16   
18790465        199       20.633850           289               15   
18790466         61       13.192644          1697              102   
18790467         69       52.299999             5                1   
18790468      19756       19.990833         59641             2026   

          ip_app_os_var  ip_app_channel_var_day  ip_app_channel_mean_hour  
18790464      33.066666                0.228070                 11.947369  
18790465      31.838095                1.371842                 10.569445  
18790466      26.880314                0.000000                 10.200000  
18790467     999.000000                0.333333                  5.000000  
18790468      37.967777                1.276994                 11.002866  
          ip_tcount  ip_tchan_count  ip_app_count  ip_app_os_count  \
18790464         16       22.333334            70               16   
18790465        199       20.633850           289               15   
18790466         61       13.192644          1697              102   
18790467         69       52.299999             5                1   
18790468      19756       19.990833         59641             2026   

          ip_app_os_var  ip_app_channel_var_day  ip_app_channel_mean_hour  
18790464      33.066666                0.228070                 11.947369  
18790465      31.838095                1.371842                 10.569445  
18790466      26.880314                0.000000                 10.200000  
18790467     999.000000                0.333333                  5.000000  
18790468      37.967777                1.276994                 11.002866  
[6411.067027330399] Finished Loading Features, start concatenate
(184903890, 20)
(18790469, 20)
   click_sec_lead_app  click_sec_lag_app   X0  X1  X2   X3  X4   X5  X6  X7  \
0              5340.0               -1.0  141   0   9   90  48   30  50   0   
1              5547.0               -1.0  137   0  10   81  51   29  50   0   
2              5925.0               -1.0  139   0   9   73  52   19  50   0   
3              5110.0               -1.0  152   0   9  164  71  122  40   0   
4             33756.0               -1.0   94   0   7   38  21    5  50   0   

   X8  nextClick  nextClick_shift  ip_tcount  ip_tchan_count  ip_app_count  \
0  51       5340             9999          1        7.893333          6347   
1  48       5547             5340          1        9.618462          5792   
2  42       5925             5547          1       15.600000          2422   
3  63       5110             5925          1        5.947712         12190   
4  28      33756             5110          1       10.800000           232   

   ip_app_os_count  ip_app_os_var  ip_app_channel_var_day  \
0             1600      37.074772                1.641883   
1             1596      27.812672                1.338314   
2              505      33.541592                1.158442   
3             2496      38.642452                1.272727   
4               80      37.221359                0.619048   

   ip_app_channel_mean_hour  
0                  8.545852  
1                  8.247573  
2                  9.035714  
3                  9.963636  
4                 11.428572  
   click_sec_lead_app  click_sec_lag_app   X0  X1  X2   X3  X4   X5  X6  X7  \
0              5340.0               -1.0  141   0   9   90  48   30  50   0   
1              5547.0               -1.0  137   0  10   81  51   29  50   0   
2              5925.0               -1.0  139   0   9   73  52   19  50   0   
3              5110.0               -1.0  152   0   9  164  71  122  40   0   
4             33756.0               -1.0   94   0   7   38  21    5  50   0   

   X8  nextClick  nextClick_shift  ip_tcount  ip_tchan_count  ip_app_count  \
0  51       5340             9999          1        7.893333          6347   
1  48       5547             5340          1        9.618462          5792   
2  42       5925             5547          1       15.600000          2422   
3  63       5110             5925          1        5.947712         12190   
4  28      33756             5110          1       10.800000           232   

   ip_app_os_count  ip_app_os_var  ip_app_channel_var_day  \
0             1600      37.074772                1.641883   
1             1596      27.812672                1.338314   
2              505      33.541592                1.158442   
3             2496      38.642452                1.272727   
4               80      37.221359                0.619048   

   ip_app_channel_mean_hour  
0                  8.545852  
1                  8.247573  
2                  9.035714  
3                  9.963636  
4                 11.428572  
          click_sec_lead_app  click_sec_lag_app   X0    X1  X2   X3   X4   X5  \
18790464                 144               1305   84   104  16   32    9    5   
18790465                  -1              36822  121   430  16   74   30   17   
18790466                  -1                  0  126   782  16   64   41   17   
18790467                  -1                 -1   83   210  16   34    4    5   
18790468                   0                564  163  2658  17  210  152  197   

          X6      X7  X8   nextClick  nextClick_shift  ip_tcount  \
18790464  47     526  22         144              136         16   
18790465  11   13517  26  1489674000              144        199   
18790466  20   14260  26  1489674000       1489674000         61   
18790467   6    1150  23  1489674000       1489674000         69   
18790468  33  978546  30           0       1489674000      19756   

          ip_tchan_count  ip_app_count  ip_app_os_count  ip_app_os_var  \
18790464       22.333334            70               16      33.066666   
18790465       20.633850           289               15      31.838095   
18790466       13.192644          1697              102      26.880314   
18790467       52.299999             5                1     999.000000   
18790468       19.990833         59641             2026      37.967777   

          ip_app_channel_var_day  ip_app_channel_mean_hour  
18790464                0.228070                 11.947369  
18790465                1.371842                 10.569445  
18790466                0.000000                 10.200000  
18790467                0.333333                  5.000000  
18790468                1.276994                 11.002866  
          click_sec_lead_app  click_sec_lag_app   X0    X1  X2   X3   X4   X5  \
18790464                 144               1305   84   104  16   32    9    5   
18790465                  -1              36822  121   430  16   74   30   17   
18790466                  -1                  0  126   782  16   64   41   17   
18790467                  -1                 -1   83   210  16   34    4    5   
18790468                   0                564  163  2658  17  210  152  197   

          X6      X7  X8   nextClick  nextClick_shift  ip_tcount  \
18790464  47     526  22         144              136         16   
18790465  11   13517  26  1489674000              144        199   
18790466  20   14260  26  1489674000       1489674000         61   
18790467   6    1150  23  1489674000       1489674000         69   
18790468  33  978546  30           0       1489674000      19756   

          ip_tchan_count  ip_app_count  ip_app_os_count  ip_app_os_var  \
18790464       22.333334            70               16      33.066666   
18790465       20.633850           289               15      31.838095   
18790466       13.192644          1697              102      26.880314   
18790467       52.299999             5                1     999.000000   
18790468       19.990833         59641             2026      37.967777   

          ip_app_channel_var_day  ip_app_channel_mean_hour  
18790464                0.228070                 11.947369  
18790465                1.371842                 10.569445  
18790466                0.000000                 10.200000  
18790467                0.333333                  5.000000  
18790468                1.276994                 11.002866  
(184903890, 7)
(18790469, 7)
(184903890, 29)
(18790469, 29)
   click_sec_lead_app  click_sec_lag_app   X0  X1  X2   X3  X4   X5  X6  X7  \
0                5340                 -1  141   0   9   90  48   30  50   0   
1                5547                 -1  137   0  10   81  51   29  50   0   
2                5925                 -1  139   0   9   73  52   19  50   0   
3                5110                 -1  152   0   9  164  71  122  40   0   
4               18000                 -1   94   0   7   38  21    5  50   0   

           ...            ip_app_channel_mean_hour  click_sec_lead_split_sec  \
0          ...                                   8               5340.212891   
1          ...                                   8               5547.390625   
2          ...                                   9               5925.761230   
3          ...                                   9               5110.511230   
4          ...                                  11              33756.210938   

   click_sec_lead_split_sec_ip_only  cumsum10  cumsum50  click_sec_lead_chl  \
0                            9999.0         0         0              5444.0   
1                            9999.0         0         0             30591.0   
2                            9999.0         0         0              6005.0   
3                            9999.0         0         0              5679.0   
4                            9999.0         0         0             33841.0   

   click_sec_lag_chl  click_sec_lead_os  click_sec_lag_os  \
0               -1.0             5307.0              -1.0   
1               -1.0             5239.0              -1.0   
2               -1.0             5205.0              -1.0   
3               -1.0             5108.0              -1.0   
4               -1.0            27338.0              -1.0   

   click_sec_lead_shift2  
0                 5340.0  
1                 5662.0  
2                 6043.0  
3                 5224.0  
4                33782.0  

[5 rows x 29 columns]
   click_sec_lead_app  click_sec_lag_app   X0  X1  X2   X3  X4   X5  X6  X7  \
0                5340                 -1  141   0   9   90  48   30  50   0   
1                5547                 -1  137   0  10   81  51   29  50   0   
2                5925                 -1  139   0   9   73  52   19  50   0   
3                5110                 -1  152   0   9  164  71  122  40   0   
4               18000                 -1   94   0   7   38  21    5  50   0   

           ...            ip_app_channel_mean_hour  click_sec_lead_split_sec  \
0          ...                                   8               5340.212891   
1          ...                                   8               5547.390625   
2          ...                                   9               5925.761230   
3          ...                                   9               5110.511230   
4          ...                                  11              33756.210938   

   click_sec_lead_split_sec_ip_only  cumsum10  cumsum50  click_sec_lead_chl  \
0                            9999.0         0         0              5444.0   
1                            9999.0         0         0             30591.0   
2                            9999.0         0         0              6005.0   
3                            9999.0         0         0              5679.0   
4                            9999.0         0         0             33841.0   

   click_sec_lag_chl  click_sec_lead_os  click_sec_lag_os  \
0               -1.0             5307.0              -1.0   
1               -1.0             5239.0              -1.0   
2               -1.0             5205.0              -1.0   
3               -1.0             5108.0              -1.0   
4               -1.0            27338.0              -1.0   

   click_sec_lead_shift2  
0                 5340.0  
1                 5662.0  
2                 6043.0  
3                 5224.0  
4                33782.0  

[5 rows x 29 columns]
          click_sec_lead_app  click_sec_lag_app   X0    X1  X2   X3   X4   X5  \
18790464                 144               1305   84   104  16   32    9    5   
18790465                  -1              18000  121   430  16   74   30   17   
18790466                  -1                  0  126   782  16   64   41   17   
18790467                  -1                 -1   83   210  16   34    4    5   
18790468                   0                564  163  2658  17  210  152  197   

          X6     X7          ...            ip_app_channel_mean_hour  \
18790464  47    526          ...                                  11   
18790465  11  13517          ...                                  10   
18790466  20  14260          ...                                  10   
18790467   6   1150          ...                                   5   
18790468  33  18000          ...                                  11   

          click_sec_lead_split_sec  click_sec_lead_split_sec_ip_only  \
18790464                143.818695                        143.818695   
18790465             999999.000000                        871.732178   
18790466             999999.000000                          2.414400   
18790467             999999.000000                       9999.000000   
18790468                  0.001000                          0.001000   

          cumsum10  cumsum50  click_sec_lead_chl  click_sec_lag_chl  \
18790464         0         0                 144                 -1   
18790465         0         0                  -1              36822   
18790466         0         0                 649                  0   
18790467         0         0                3099              56732   
18790468     20188     20188                   0               4380   

          click_sec_lead_os  click_sec_lag_os  click_sec_lead_shift2  
18790464                  0                 0                    420  
18790465                  5                 4                     -1  
18790466                 12                 0                     -1  
18790467               1380                 1                     -1  
18790468                  0               564                    356  

[5 rows x 29 columns]
          click_sec_lead_app  click_sec_lag_app   X0    X1  X2   X3   X4   X5  \
18790464                 144               1305   84   104  16   32    9    5   
18790465                  -1              18000  121   430  16   74   30   17   
18790466                  -1                  0  126   782  16   64   41   17   
18790467                  -1                 -1   83   210  16   34    4    5   
18790468                   0                564  163  2658  17  210  152  197   

          X6     X7          ...            ip_app_channel_mean_hour  \
18790464  47    526          ...                                  11   
18790465  11  13517          ...                                  10   
18790466  20  14260          ...                                  10   
18790467   6   1150          ...                                   5   
18790468  33  18000          ...                                  11   

          click_sec_lead_split_sec  click_sec_lead_split_sec_ip_only  \
18790464                143.818695                        143.818695   
18790465             999999.000000                        871.732178   
18790466             999999.000000                          2.414400   
18790467             999999.000000                       9999.000000   
18790468                  0.001000                          0.001000   

          cumsum10  cumsum50  click_sec_lead_chl  click_sec_lag_chl  \
18790464         0         0                 144                 -1   
18790465         0         0                  -1              36822   
18790466         0         0                 649                  0   
18790467         0         0                3099              56732   
18790468     20188     20188                   0               4380   

          click_sec_lead_os  click_sec_lag_os  click_sec_lead_shift2  
18790464                  0                 0                    420  
18790465                  5                 4                     -1  
18790466                 12                 0                     -1  
18790467               1380                 1                     -1  
18790468                  0               564                    356  

[5 rows x 29 columns]
[6552.376207828522] Concat Train/Test
(184903890, 45)
(18790469, 45)
Index(['ip', 'app', 'device', 'os', 'channel', 'click_time', 'is_attributed',
       'click_sec_lead_app', 'click_sec_lag_app', 'X0', 'X1', 'X2', 'X3', 'X4',
       'X5', 'X6', 'X7', 'X8', 'nextClick', 'nextClick_shift', 'ip_tcount',
       'ip_tchan_count', 'ip_app_count', 'ip_app_os_count', 'ip_app_os_var',
       'ip_app_channel_var_day', 'ip_app_channel_mean_hour',
       'click_sec_lead_split_sec', 'click_sec_lead_split_sec_ip_only',
       'cumsum10', 'cumsum50', 'click_sec_lead_chl', 'click_sec_lag_chl',
       'click_sec_lead_os', 'click_sec_lag_os', 'click_sec_lead_shift2',
       'same_next_app', 'same_prev_app', 'same_next_chl', 'same_prev_chl',
       'qty', 'prevday_qty', 'prevhour_qty', 'count_in_next_hr',
       'count_in_next_ten_mins'],
      dtype='object')
Index(['click_id', 'ip', 'app', 'device', 'os', 'channel', 'click_time',
       'click_sec_lead_app', 'click_sec_lag_app', 'X0', 'X1', 'X2', 'X3', 'X4',
       'X5', 'X6', 'X7', 'X8', 'nextClick', 'nextClick_shift', 'ip_tcount',
       'ip_tchan_count', 'ip_app_count', 'ip_app_os_count', 'ip_app_os_var',
       'ip_app_channel_var_day', 'ip_app_channel_mean_hour',
       'click_sec_lead_split_sec', 'click_sec_lead_split_sec_ip_only',
       'cumsum10', 'cumsum50', 'click_sec_lead_chl', 'click_sec_lag_chl',
       'click_sec_lead_os', 'click_sec_lag_os', 'click_sec_lead_shift2',
       'same_next_app', 'same_prev_app', 'same_next_chl', 'same_prev_chl',
       'qty', 'prevday_qty', 'prevhour_qty', 'count_in_next_hr',
       'count_in_next_ten_mins'],
      dtype='object')
[6626.201418876648] Time prep
[6758.127506017685] Add entropy
[6854.987575292587] Split data
Device 3032 shape : 692891
[7023.5972735881805] Get common train and test
Get common to train and test : app
explore/lgb_cts_thresh35_2404.py:306: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/indexing.html#indexing-view-versus-copy
  train_df[col][~train_df[col].isin(keep)] = np.nan
explore/lgb_cts_thresh35_2404.py:307: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/indexing.html#indexing-view-versus-copy
  test_df[col][~test_df[col].isin(keep)] = np.nan
Length remaining for app : 446
Get common to train and test : channel
Length remaining for channel : 181
Get common to train and test : os
Length remaining for os : 384
Get common to train and test : hour
Length remaining for hour : 18
Get common to train and test : device
Length remaining for device : 1878
[7402.598355054855] Data split complete
train size:  131194062
valid size:  53016937
test size :  53016937
**************************************************
['X1', 'ip_click_min_entropy', 'X4', 'cumsum10', 'count_in_next_hr', 'click_sec_lead_chl', 'qty', 'click_sec_lag_app', 'X6', 'X3', 'click_sec_lead_split_sec', 'ip_channel_entropy', 'ip_click_hr_entropy', 'X7', 'nextClick', 'count_in_next_ten_mins', 'device', 'click_sec_lag_os', 'click_sec_lead_shift2', 'ip', 'X5', 'click_sec_lead_app', 'channel', 'click_sec_lead_split_sec_ip_only', 'hour', 'prevhour_qty', 'X2', 'X0', 'click_sec_lead_os', 'app', 'ip_device_entropy', 'cumsum50', 'nextClick_shift', 'X8', 'click_sec_lag_chl', 'ip_app_entropy', 'prevday_qty', 'os', 'ip_os_entropy']
**************************************************
['app', 'device', 'os', 'channel', 'hour']
**************************************************
[7431.56650352478] Drop features complete
train size:  131194062
valid size:  53016937
test size :  53016937
[7431.566586494446] Training...
preparing validation datasets
/home/ubuntu/anaconda3/lib/python3.6/site-packages/lightgbm/basic.py:1036: UserWarning: Using categorical_feature in Dataset.
  warnings.warn('Using categorical_feature in Dataset.')
[LightGBM] [Info] Number of positive: 309634, number of negative: 130884428
[LightGBM] [Info] Total Bins 7689
[LightGBM] [Info] Number of data: 131194062, number of used features: 39
/home/ubuntu/anaconda3/lib/python3.6/site-packages/lightgbm/basic.py:681: UserWarning: categorical_feature in param dict is overrided.
  warnings.warn('categorical_feature in param dict is overrided.')
Training until validation scores don't improve for 1251 rounds.
[10]	train's auc: 0.97041	valid's auc: 0.964608
[20]	train's auc: 0.97313	valid's auc: 0.967323
[30]	train's auc: 0.975076	valid's auc: 0.969896
[40]	train's auc: 0.976817	valid's auc: 0.971918
[50]	train's auc: 0.978143	valid's auc: 0.973686
[60]	train's auc: 0.979343	valid's auc: 0.975178
[70]	train's auc: 0.980333	valid's auc: 0.976097
[80]	train's auc: 0.981311	valid's auc: 0.977338
[90]	train's auc: 0.982133	valid's auc: 0.978414
[100]	train's auc: 0.982827	valid's auc: 0.979273
[110]	train's auc: 0.983344	valid's auc: 0.979801
[120]	train's auc: 0.983771	valid's auc: 0.980274
[130]	train's auc: 0.984192	valid's auc: 0.980726
[140]	train's auc: 0.984556	valid's auc: 0.981127
[150]	train's auc: 0.984836	valid's auc: 0.981407
[160]	train's auc: 0.985049	valid's auc: 0.981635
[170]	train's auc: 0.985249	valid's auc: 0.981864
[180]	train's auc: 0.985434	valid's auc: 0.98205
[190]	train's auc: 0.985633	valid's auc: 0.98224
[200]	train's auc: 0.985772	valid's auc: 0.982395
[210]	train's auc: 0.985909	valid's auc: 0.982525
[220]	train's auc: 0.986062	valid's auc: 0.982671
[230]	train's auc: 0.986182	valid's auc: 0.982789
[240]	train's auc: 0.986284	valid's auc: 0.982895
[250]	train's auc: 0.986391	valid's auc: 0.982993
[260]	train's auc: 0.986485	valid's auc: 0.98309
[270]	train's auc: 0.986594	valid's auc: 0.983189
[280]	train's auc: 0.986691	valid's auc: 0.983269
[290]	train's auc: 0.986765	valid's auc: 0.983322
[300]	train's auc: 0.986833	valid's auc: 0.983391
[310]	train's auc: 0.986899	valid's auc: 0.983441
[320]	train's auc: 0.986963	valid's auc: 0.983482
[330]	train's auc: 0.987025	valid's auc: 0.983539
[340]	train's auc: 0.987077	valid's auc: 0.983588
[350]	train's auc: 0.987132	valid's auc: 0.983624
[360]	train's auc: 0.987176	valid's auc: 0.983659
[370]	train's auc: 0.987228	valid's auc: 0.98368
[380]	train's auc: 0.98727	valid's auc: 0.983721
[390]	train's auc: 0.987309	valid's auc: 0.983753
[400]	train's auc: 0.987361	valid's auc: 0.98378
[410]	train's auc: 0.987414	valid's auc: 0.983808
[420]	train's auc: 0.98745	valid's auc: 0.983826
[430]	train's auc: 0.987489	valid's auc: 0.983854
[440]	train's auc: 0.987518	valid's auc: 0.98388
[450]	train's auc: 0.987551	valid's auc: 0.983905
[460]	train's auc: 0.987585	valid's auc: 0.983927
[470]	train's auc: 0.987637	valid's auc: 0.983936
[480]	train's auc: 0.987674	valid's auc: 0.983949
[490]	train's auc: 0.987713	valid's auc: 0.983969
[500]	train's auc: 0.987747	valid's auc: 0.9839
[510]	train's auc: 0.987785	valid's auc: 0.983916
[520]	train's auc: 0.987817	valid's auc: 0.98393
[530]	train's auc: 0.987845	valid's auc: 0.983942
[540]	train's auc: 0.987885	valid's auc: 0.983961
[550]	train's auc: 0.987913	valid's auc: 0.983978
[560]	train's auc: 0.987948	valid's auc: 0.983993
[570]	train's auc: 0.987971	valid's auc: 0.984005
[580]	train's auc: 0.988	valid's auc: 0.984022
[590]	train's auc: 0.988023	valid's auc: 0.984032
[600]	train's auc: 0.98806	valid's auc: 0.984042
[610]	train's auc: 0.988086	valid's auc: 0.984052
[620]	train's auc: 0.988111	valid's auc: 0.984057
[630]	train's auc: 0.988141	valid's auc: 0.984066
[640]	train's auc: 0.988176	valid's auc: 0.984077
[650]	train's auc: 0.988201	valid's auc: 0.984081
[660]	train's auc: 0.988227	valid's auc: 0.984089
[670]	train's auc: 0.988253	valid's auc: 0.984096
[680]	train's auc: 0.988279	valid's auc: 0.984105
[690]	train's auc: 0.988306	valid's auc: 0.984109
[700]	train's auc: 0.988335	valid's auc: 0.984123
[710]	train's auc: 0.988359	valid's auc: 0.98413
[720]	train's auc: 0.988381	valid's auc: 0.984139
[730]	train's auc: 0.988404	valid's auc: 0.984141
[740]	train's auc: 0.988433	valid's auc: 0.984144
[750]	train's auc: 0.988456	valid's auc: 0.984152
[760]	train's auc: 0.988478	valid's auc: 0.984165
[770]	train's auc: 0.988504	valid's auc: 0.984174
[780]	train's auc: 0.98853	valid's auc: 0.984166
[790]	train's auc: 0.988554	valid's auc: 0.984174
[800]	train's auc: 0.988574	valid's auc: 0.984182
[810]	train's auc: 0.988595	valid's auc: 0.984186
[820]	train's auc: 0.988623	valid's auc: 0.984192
[830]	train's auc: 0.988641	valid's auc: 0.984195
[840]	train's auc: 0.988665	valid's auc: 0.984201
[850]	train's auc: 0.988689	valid's auc: 0.984204
[860]	train's auc: 0.988715	valid's auc: 0.984213
[870]	train's auc: 0.988738	valid's auc: 0.984213
[880]	train's auc: 0.98876	valid's auc: 0.984214
[890]	train's auc: 0.98878	valid's auc: 0.984222
[900]	train's auc: 0.9888	valid's auc: 0.984225
[910]	train's auc: 0.988818	valid's auc: 0.984231
[920]	train's auc: 0.988837	valid's auc: 0.984239
[930]	train's auc: 0.988858	valid's auc: 0.984247
[940]	train's auc: 0.988875	valid's auc: 0.984249
[950]	train's auc: 0.988896	valid's auc: 0.984255
[960]	train's auc: 0.988917	valid's auc: 0.984255
[970]	train's auc: 0.988936	valid's auc: 0.984258
[980]	train's auc: 0.988957	valid's auc: 0.984265
[990]	train's auc: 0.988972	valid's auc: 0.984268
[1000]	train's auc: 0.988991	valid's auc: 0.984275
[1010]	train's auc: 0.989015	valid's auc: 0.984289
[1020]	train's auc: 0.989034	valid's auc: 0.984296
[1030]	train's auc: 0.989057	valid's auc: 0.984299
[1040]	train's auc: 0.989078	valid's auc: 0.984303
[1050]	train's auc: 0.989097	valid's auc: 0.984302
[1060]	train's auc: 0.989119	valid's auc: 0.984299
[1070]	train's auc: 0.989138	valid's auc: 0.984302
[1080]	train's auc: 0.989165	valid's auc: 0.984302
[1090]	train's auc: 0.989184	valid's auc: 0.984307
[1100]	train's auc: 0.989202	valid's auc: 0.98431
[1110]	train's auc: 0.989218	valid's auc: 0.98431
[1120]	train's auc: 0.989235	valid's auc: 0.98431
[1130]	train's auc: 0.989255	valid's auc: 0.984314
[1140]	train's auc: 0.989274	valid's auc: 0.984321
[1150]	train's auc: 0.989295	valid's auc: 0.984323
[1160]	train's auc: 0.989314	valid's auc: 0.984328
[1170]	train's auc: 0.989333	valid's auc: 0.984335
[1180]	train's auc: 0.989353	valid's auc: 0.984336
[1190]	train's auc: 0.989372	valid's auc: 0.984336
[1200]	train's auc: 0.989387	valid's auc: 0.984336
[1210]	train's auc: 0.989409	valid's auc: 0.984344
[1220]	train's auc: 0.989428	valid's auc: 0.984346
[1230]	train's auc: 0.989448	valid's auc: 0.984349
[1240]	train's auc: 0.989461	valid's auc: 0.984352
[1250]	train's auc: 0.989478	valid's auc: 0.984354
Did not meet early stopping. Best iteration is:
[1251]	train's auc: 0.989482	valid's auc: 0.984355

Model Report
n_estimators :  1251
auc: 0.9843546998270628
                                feat   imp
0                            channel  3198
1                                app  2251
2                                 os  1809
3                               hour   992
4           click_sec_lead_split_sec   670
5                                qty   463
6                      ip_os_entropy   423
7                                 X8   416
8                  ip_device_entropy   410
9                                 X0   404
10                                X4   382
11                         nextClick   363
12                                X3   357
13  click_sec_lead_split_sec_ip_only   345
14               ip_click_hr_entropy   339
15                ip_channel_entropy   328
16                click_sec_lead_app   325
17              ip_click_min_entropy   319
18                                X5   287
19                                X6   264
20                    ip_app_entropy   264
21             click_sec_lead_shift2   254
22                                X1   230
23            count_in_next_ten_mins   219
24                            device   212
25                  count_in_next_hr   212
26                                ip   204
27                 click_sec_lag_app   199
28                      prevhour_qty   195
29                 click_sec_lead_os   170
30                  click_sec_lag_os   154
31                       prevday_qty   145
32                 click_sec_lag_chl   142
33                                X7   124
34                click_sec_lead_chl   119
35                          cumsum10   101
36                          cumsum50    86
37                   nextClick_shift    79
38                                X2    60
Predicting...
writing...
done...
<class 'pandas.core.frame.DataFrame'>
Int64Index: 53016937 entries, 131886953 to 184903889
Data columns (total 2 columns):
click_id         int64
is_attributed    float64
dtypes: float64(1), int64(1)
memory usage: 1.2 GB
None
